{"version":3,"file":"ng-particles.mjs","sources":["../../../projects/ng-particles/src/lib/ng-particles.component.ts","../../../projects/ng-particles/src/lib/ng-particles.module.ts","../../../projects/ng-particles/src/public-api.ts","../../../projects/ng-particles/src/ng-particles.ts"],"sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  Output,\n  PLATFORM_ID,\n} from '@angular/core';\nimport { isPlatformServer } from '@angular/common';\nimport { EMPTY, from, mergeMap, Subject, takeUntil } from 'rxjs';\n\nimport { tsParticles } from 'tsparticles-engine';\nimport type { Container, Engine } from 'tsparticles-engine';\n\nimport { IParticlesProps } from './ng-particles.module';\n\n@Component({\n  selector: 'ng-particles',\n  template: '<div [id]=\"id\"></div>',\n})\nexport class NgParticlesComponent implements AfterViewInit, OnDestroy {\n  @Input() options?: IParticlesProps;\n  @Input() url?: string;\n  @Input() id?: string;\n  @Input() particlesInit?: (engine: Engine) => Promise<void>;\n  @Output() particlesLoaded: EventEmitter<Container> =\n    new EventEmitter<Container>();\n\n  private destroy$ = new Subject<void>();\n\n  constructor(@Inject(PLATFORM_ID) private platformId: string) {}\n\n  public ngAfterViewInit(): void {\n    if (isPlatformServer(this.platformId)) {\n      return;\n    }\n\n    const cb = (container?: Container) => {\n      this.particlesLoaded.emit(container);\n    };\n\n    from(\n      this.particlesInit ? this.particlesInit(tsParticles) : Promise.resolve()\n    )\n      .pipe(\n        mergeMap(() => {\n          if (this.url) {\n            if (this.id) {\n              return tsParticles.loadJSON(this.id, this.url);\n            } else {\n              return tsParticles.loadJSON(this.url);\n            }\n          } else if (this.options) {\n            if (this.id) {\n              return tsParticles.load(this.id, this.options);\n            } else {\n              return tsParticles.load(this.options);\n            }\n          } else {\n            console.error(\n              'You must specify options or url to load tsParticles'\n            );\n            return EMPTY;\n          }\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(cb);\n  }\n\n  public ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n}\n\n@Component({\n  selector: 'Particles',\n  template: '<div [id]=\"id\"></div>',\n})\nexport class ParticlesComponent extends NgParticlesComponent {\n  @Input() override options?: IParticlesProps;\n  @Input() override url?: string;\n  @Input() override id?: string;\n  @Input() override particlesInit?: (engine: Engine) => Promise<void>;\n  @Output() override particlesLoaded: EventEmitter<Container> =\n    new EventEmitter<Container>();\n}\n","import { NgModule } from '@angular/core';\nimport { NgParticlesComponent, ParticlesComponent } from './ng-particles.component';\nimport type { ISourceOptions } from 'tsparticles-engine';\n\n@NgModule({\n  declarations: [ NgParticlesComponent, ParticlesComponent ],\n  exports: [ NgParticlesComponent, ParticlesComponent ]\n})\nexport class NgParticlesModule {\n}\n\nexport type IParticlesProps = ISourceOptions;\nexport type IParticlesParams = IParticlesProps;","/*\n * Public API Surface of ng-particles\n */\n\nexport * from './lib/ng-particles.component';\nexport * from './lib/ng-particles.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;MAsBa,oBAAoB;IAU/B,YAAyC,UAAkB;QAAlB,eAAU,GAAV,UAAU,CAAQ;QALjD,oBAAe,GACvB,IAAI,YAAY,EAAa,CAAC;QAExB,aAAQ,GAAG,IAAI,OAAO,EAAQ,CAAC;KAEwB;IAExD,eAAe;QACpB,IAAI,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACrC,OAAO;SACR;QAED,MAAM,EAAE,GAAG,CAAC,SAAqB;YAC/B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACtC,CAAC;QAEF,IAAI,CACF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,GAAG,OAAO,CAAC,OAAO,EAAE,CACzE;aACE,IAAI,CACH,QAAQ,CAAC;YACP,IAAI,IAAI,CAAC,GAAG,EAAE;gBACZ,IAAI,IAAI,CAAC,EAAE,EAAE;oBACX,OAAO,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;iBAChD;qBAAM;oBACL,OAAO,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBACvC;aACF;iBAAM,IAAI,IAAI,CAAC,OAAO,EAAE;gBACvB,IAAI,IAAI,CAAC,EAAE,EAAE;oBACX,OAAO,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;iBAChD;qBAAM;oBACL,OAAO,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACvC;aACF;iBAAM;gBACL,OAAO,CAAC,KAAK,CACX,qDAAqD,CACtD,CAAC;gBACF,OAAO,KAAK,CAAC;aACd;SACF,CAAC,EACF,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CACzB;aACA,SAAS,CAAC,EAAE,CAAC,CAAC;KAClB;IAEM,WAAW;QAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;KACtB;;iHApDU,oBAAoB,kBAUX,WAAW;qGAVpB,oBAAoB,2LAFrB,uBAAuB;2FAEtB,oBAAoB;kBAJhC,SAAS;mBAAC;oBACT,QAAQ,EAAE,cAAc;oBACxB,QAAQ,EAAE,uBAAuB;iBAClC;;0BAWc,MAAM;2BAAC,WAAW;4CATtB,OAAO;sBAAf,KAAK;gBACG,GAAG;sBAAX,KAAK;gBACG,EAAE;sBAAV,KAAK;gBACG,aAAa;sBAArB,KAAK;gBACI,eAAe;sBAAxB,MAAM;;MAsDI,kBAAmB,SAAQ,oBAAoB;IAJ5D;;QASqB,oBAAe,GAChC,IAAI,YAAY,EAAa,CAAC;KACjC;;+GAPY,kBAAkB;mGAAlB,kBAAkB,+MAFnB,uBAAuB;2FAEtB,kBAAkB;kBAJ9B,SAAS;mBAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,QAAQ,EAAE,uBAAuB;iBAClC;8BAEmB,OAAO;sBAAxB,KAAK;gBACY,GAAG;sBAApB,KAAK;gBACY,EAAE;sBAAnB,KAAK;gBACY,aAAa;sBAA9B,KAAK;gBACa,eAAe;sBAAjC,MAAM;;;MC9EI,iBAAiB;;8GAAjB,iBAAiB;+GAAjB,iBAAiB,iBAHZ,oBAAoB,EAAE,kBAAkB,aAC7C,oBAAoB,EAAE,kBAAkB;+GAExC,iBAAiB;2FAAjB,iBAAiB;kBAJ7B,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAE,oBAAoB,EAAE,kBAAkB,CAAE;oBAC1D,OAAO,EAAE,CAAE,oBAAoB,EAAE,kBAAkB,CAAE;iBACtD;;;ACPD;;;;ACAA;;;;;;"}